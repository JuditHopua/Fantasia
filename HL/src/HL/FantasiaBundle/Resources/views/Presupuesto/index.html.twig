{% extends 'FantasiaBundle:Default:base.html.twig' %}

{% block title %} Listado de Presupuestos {% endblock %}

{% block contenido %}
<script type="text/javascript">
    $( document ).ready(function() {
	    $('#tabla').dataTable( {
		"language": {
             "url": "//cdn.datatables.net/plug-ins/1.10.10/i18n/Spanish.json"
        },
		"sDom": "<'row'<'span8'l><'span8'f>r>t<'row'<'span8'i><'span8'p>>"
		} );
	});
</script>	
	{% include 'FantasiaBundle:Default:menu.html.twig' %}
    <h1>Presupuestos</h1>
	
    <table class="table table-striped" id="tabla">
        <thead>
            <tr>
                <th>Fecha</th>
				<th>Cliente</th>
                <th>Costo envio</th>
                <th>Costo colocacion</th>
                <th>Plazo entrega</th>
                <th>Monto carpinterias</th>
				<th>Total Presupuesto</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            <tr>
                <td>{{ entity.fecha|date('d-m-Y')}}</td>
				<td>{{ entity.cliente.apellido}} {{entity.cliente.nombre}}</td>
                <td>$ {{ entity.costoEnvio|number_format(2) }}</td>
                <td>$ {{ entity.costoColocacion|number_format(2) }}</td>
                <td>{{ entity.plazoEntrega }}</td>
                <td>$ {{ entity.montoTotalCarpinterias|number_format(2) }}</td>
				<td>$ {{ (entity.costoEnvio+entity.costoColocacion+entity.montoTotalCarpinterias)|number_format(2) }}
                <td>
					<a href="{{ path('presupuesto_edit', { 'id': entity.id }) }}" <span class="glyphicon glyphicon-pencil"></span></a>
					<a href="{{ path('presupuesto_show', { 'id': entity.id }) }}"<span class="glyphicon glyphicon-eye-open"></span></a>
					<a href="{{ path('presupuesto_delete', { 'id': entity.id }) }}"<span class="glyphicon glyphicon-trash"></span></a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endblock %}
